@model IEnumerable<CC.Connections.BL.Charity>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<br />
<br />
<br />


<h2>@ViewBag.Title</h2>

@if (Session["member"] != null && ((CC.Connections.BL.Password)Session["member"]).MemberType == CC.Connections.BL.MemberType.CHARITY)
{
    //<p>@Html.ActionLink("Create New Charity", "Create")</p>
}

<table class="table">
    @if (Model.ToList().Count != 0)
    {
        foreach (var item in Model)
        {
    <tr>
        <td class="p-3 mb-2 bg-gradient-info text-black-50">
            <div class="card-header row">
                <a href="@Url.Action("Details", "Charity", new { id = item.Email.Replace('.','-') })">
                    <img class="col-2 " src="~/Content/Images/CCDefaultPlaceholder.gif" alt="@item.Name" title="View Charity">
                </a>
                <div class="col-8">
                    <a class="" title="Details" href="@Url.Action("Details", "Charity", new { id = item.Email.Replace('.','-') })">
                        <h2 title="Charity Details"> @item.Name</h2>
                    </a>
                    <h3>@item.Email</h3>
                    <h3>@item.URL</h3>

                </div>
                <div class="col-1">
                    <a href="@Url.Action("CategoryView", "Charity", new { id = item.Category.ID })">
                        <img style="padding-top:0px;" src="@(("/Content/Images/" + item.Category.Image.Trim() + ".svg"))" id="paw" title="@(item.Category.Desc) ">
                    </a>
                </div>
            </div>
            <!--<div class="card-body">
            <p>item.Description</p>
        </div>-->
        </td>
        <td>
            @*{Html.RenderAction("SideView", "Charity", new { id = item.Email.Replace('.','-') });}*@
        </td>
        @if (Session["member"] != null && ((CC.Connections.BL.Password)Session["member"]).email == item.Email)
        {
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.Email.Replace('.', '-') })
                @Html.ActionLink("Delete", "Delete", new { id = item.Email.Replace('.', '-') })
            </td>
        }
    </tr>
        }
    }
    else
    {
        <tr>
            <h5>No Events</h5>
        </tr>

        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
        <br />
    }
</table>
